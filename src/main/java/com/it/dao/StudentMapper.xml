<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--命名空间-->
<mapper namespace="com.it.dao.StudentMapper">
  <!--防止实体类与数据库命名不一致-->
  <resultMap id="studentMap" type="com.it.domain.Student">
    <id column="student_id" property="student_Id"/>
    <result column="create_at" property="create_At"/>
    <result column="update_at" property="update_At"/>
    <result column="student_name" property="student_Name"/>
    <result column="student_qq" property="student_Qq"/>
    <result column="student_type" property="student_Type"/>
    <result column="learning_time" property="learning_Time"/>
    <result column="school" property="School"/>
    <result column="laerning_number" property="laerning_Number"/>
    <result column="learning_url" property="learning_Url"/>
    <result column="dream" property="Dream"/>
    <result column="teacher" property="Teacher"/>
  </resultMap>

  <!--增加用户-->
  <insert id="addStudent" useGeneratedKeys="true" keyProperty="student_Id" parameterType="java.lang.Object" >
    <!--<selectKey keyProperty="student_Id" order="AFTER" resultType="java.lang.Integer">
    select LAST_INSERT_ID()
    </selectKey>-->
    insert into renwu1 (create_At,update_At,student_Name,student_Qq,student_Type,learning_Time,School,laerning_Number,learning_Url,Dream,Teacher)
    values (#{create_At},#{update_At},#{student_Name},#{student_Qq},#{student_Type},#{learning_Time},#{School},#{laerning_Number},#{learning_Url},#{Dream},#{Teacher})
  </insert>

  <!--删除学生-->
  <delete id="deleteStudent" >
    delete from renwu1 where student_id = #{id}
  </delete>

  <!--根据学生id修改学生信息-->
  <update id="updateStudent" useGeneratedKeys="true" keyProperty="student_Id" parameterType="java.lang.Object">
    update renwu1 set create_At=#{create_At},student_Name=#{student_Name},update_At=#{update_At},student_Qq=#{student_Qq},
student_Type=#{student_Type},learning_Time=#{learning_Time},School=#{School},laerning_Number=#{laerning_Number},learning_Url=#{learning_Url},Dream=#{Dream},Teacher=#{Teacher} where student_Id=#{student_Id}

  </update>
  <!--查询t_user表中数据行数-->
  <select id="queryCount" resultType="java.lang.Integer">
        select count(*) from renwu1
    </select>

  <!--查询t_user表中所有数据信息-->
  <select id="queryAll" resultMap="studentMap">
        select * from renwu1
  </select>

  <!--查询指定名字学生报名帖信息-->
  <select id="queryByName" parameterType="java.lang.String" resultMap="studentMap">
        select * from renwu1 where student_name = #{student_name}
  </select>

  <select id="queryByLearnNumber" parameterType="java.lang.Integer" resultMap="studentMap">
        select * from renwu1 where laerning_Number =#{laerning_Number}
  </select>
</mapper>